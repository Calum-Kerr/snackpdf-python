{% extends "base.html" %}

{% block title %}Flatten PDF Forms Online Free - Remove Interactive Elements | SnackPDF{% endblock %}
{% block meta_title %}Flatten PDF Forms Online Free - Remove Interactive Elements | SnackPDF{% endblock %}
{% block meta_description %}Flatten PDF forms and remove interactive elements online for free. Convert fillable PDFs to static documents. No software needed.{% endblock %}
{% block meta_keywords %}flatten PDF, remove PDF forms, static PDF, PDF form flattening, non-editable PDF{% endblock %}

{% block canonical_url %}https://www.snackpdf.com/flatten{% endblock %}
{% block og_url %}https://www.snackpdf.com/flatten{% endblock %}
{% block og_title %}Flatten PDF Forms Online Free - Remove Interactive Elements | SnackPDF{% endblock %}
{% block og_description %}Flatten PDF forms and remove interactive elements online for free. Convert fillable PDFs to static documents. No software needed.{% endblock %}

{% block twitter_url %}https://www.snackpdf.com/flatten{% endblock %}
{% block twitter_title %}Flatten PDF Forms Online Free - Remove Interactive Elements | SnackPDF{% endblock %}
{% block twitter_description %}Flatten PDF forms and remove interactive elements online for free. Convert fillable PDFs to static documents. No software needed.{% endblock %}

{% block structured_data %}
{
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Flatten PDF Forms Online Free - Remove Interactive Elements",
    "url": "https://www.snackpdf.com/flatten",
    "description": "Flatten PDF forms and remove interactive elements online for free. Convert fillable PDFs to static documents. No software needed.",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Any",
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
    },
    "publisher": {
        "@type": "Organization",
        "name": "SnackPDF",
        "url": "https://www.snackpdf.com"
    } %}
{% endblock %}

{% block content %}
<div class="tool-form-container">
    <h1>Flatten PDF Forms Online Free - Remove Interactive Elements</h1>
    <p>Flatten PDF forms and remove interactive elements online for free. Convert fillable PDFs to static documents. No software needed.</p>

    <form id="flattenForm" enctype="multipart/form-data">
        <div class="drag-drop" onclick="document.getElementById('fileInput').click()">
            <input type="file" id="fileInput" name="file" accept=".pdf" style="display: none;" required>
            <strong>Select or drag and drop your PDF file here</strong>
        </div>

        <div class="form-group">
            <label>Flatten Options:</label>
            <div style="margin-top: 10px;">
                <label style="display: block; margin-bottom: 10px;">
                    <input type="checkbox" name="flatten_forms" value="true" checked> Flatten Form Fields
                </label>
                <label style="display: block; margin-bottom: 10px;">
                    <input type="checkbox" name="flatten_annotations" value="true" checked> Flatten Annotations
                </label>
            </div>
        </div>

        <div class="action-buttons">
            <button type="submit">Flatten PDF</button>
            <button type="button" onclick="clearForm()">Clear</button>
        </div>
    </form>

    <div id="result" style="margin-top: 20px; display: none;">
        <div id="loading" style="text-align: center; display: none;">
            <p>Flattening your PDF...</p>
        </div>
        <div id="error" style="color: red; display: none;"></div>
        <div id="success" style="color: green; display: none;"></div>
    </div>
</div>

<script>
document.getElementById('flattenForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const formData = new FormData(this);
    const resultDiv = document.getElementById('result');
    const loadingDiv = document.getElementById('loading');
    const errorDiv = document.getElementById('error');
    const successDiv = document.getElementById('success');

    // Show loading
    resultDiv.style.display = 'block';
    loadingDiv.style.display = 'block';
    errorDiv.style.display = 'none';
    successDiv.style.display = 'none';

    try {
        const response = await fetch('/flatten_pdf', {
            method: 'POST',
            body: formData
        });

        if (response.ok) {
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = response.headers.get('Content-Disposition')?.split('filename=')[1] || 'flattened.pdf';
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);

            successDiv.textContent = 'PDF flattened successfully! Download started.';
            successDiv.style.display = 'block';
        } else {
            const error = await response.json();
            errorDiv.textContent = error.error || 'An error occurred';
            errorDiv.style.display = 'block';
        }
    } catch (error) {
        errorDiv.textContent = 'Network error: ' + error.message;
        errorDiv.style.display = 'block';
    } finally {
        loadingDiv.style.display = 'none';
    }
});

function clearForm() {
    document.getElementById('flattenForm').reset();
    document.getElementById('result').style.display = 'none';
}

// File input change handler
document.getElementById('fileInput').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (file) {
        document.querySelector('.drag-drop strong').textContent = `Selected: ${file.name}`;
    }
});
</script>
{% endblock %}


