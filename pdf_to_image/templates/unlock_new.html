{% extends "base.html" %}

{% block title %}Unlock PDF Online Free - Remove PDF Password | SnackPDF{% endblock %}
{% block meta_title %}Unlock PDF Online Free - Remove PDF Password | SnackPDF{% endblock %}
{% block meta_description %}Remove password protection from PDF files online for free. Unlock encrypted PDFs quickly and securely. No software needed.{% endblock %}
{% block meta_keywords %}unlock PDF, remove PDF password, decrypt PDF, PDF password remover, unlock encrypted PDF{% endblock %}

{% block canonical_url %}https://www.snackpdf.com/unlock{% endblock %}
{% block og_url %}https://www.snackpdf.com/unlock{% endblock %}
{% block og_title %}Unlock PDF Online Free - Remove PDF Password | SnackPDF{% endblock %}
{% block og_description %}Remove password protection from PDF files online for free. Unlock encrypted PDFs quickly and securely. No software needed.{% endblock %}

{% block twitter_url %}https://www.snackpdf.com/unlock{% endblock %}
{% block twitter_title %}Unlock PDF Online Free - Remove PDF Password | SnackPDF{% endblock %}
{% block twitter_description %}Remove password protection from PDF files online for free. Unlock encrypted PDFs quickly and securely. No software needed.{% endblock %}

{% block structured_data %}
{
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Unlock PDF Online Free - Remove PDF Password",
    "url": "https://www.snackpdf.com/unlock",
    "description": "Remove password protection from PDF files online for free. Unlock encrypted PDFs quickly and securely. No software needed.",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Any",
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
    },
    "publisher": {
        "@type": "Organization",
        "name": "SnackPDF",
        "url": "https://www.snackpdf.com"
    } %}
{% endblock %}

{% block content %}
<div class="tool-form-container">
    <h1>Unlock PDF Online Free - Remove PDF Password</h1>
    <p>Remove password protection from PDF files online for free. Unlock encrypted PDFs quickly and securely. No software needed.</p>

    <form id="unlockForm" enctype="multipart/form-data">
        <div class="drag-drop" onclick="document.getElementById('fileInput').click()">
            <input type="file" id="fileInput" name="file" accept=".pdf" style="display: none;" required>
            <strong>Select or drag and drop your PDF file here</strong>
        </div>

        <div class="form-group">
            <label for="password">PDF Password:</label>
            <input type="password" id="password" name="password" placeholder="Enter the PDF password" required>
        </div>

        <div class="action-buttons">
            <button type="submit">Unlock PDF</button>
            <button type="button" onclick="clearForm()">Clear</button>
        </div>
    </form>

    <div id="result" style="margin-top: 20px; display: none;">
        <div id="loading" style="text-align: center; display: none;">
            <p>Unlocking your PDF...</p>
        </div>
        <div id="error" style="color: red; display: none;"></div>
        <div id="success" style="color: green; display: none;"></div>
    </div>
</div>

<script>
document.getElementById('unlockForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const formData = new FormData(this);
    const resultDiv = document.getElementById('result');
    const loadingDiv = document.getElementById('loading');
    const errorDiv = document.getElementById('error');
    const successDiv = document.getElementById('success');

    // Show loading
    resultDiv.style.display = 'block';
    loadingDiv.style.display = 'block';
    errorDiv.style.display = 'none';
    successDiv.style.display = 'none';

    try {
        const response = await fetch('/unlock_pdf', {
            method: 'POST',
            body: formData
        });

        if (response.ok) {
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = response.headers.get('Content-Disposition')?.split('filename=')[1] || 'unlocked.pdf';
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);

            successDiv.textContent = 'PDF unlocked successfully! Download started.';
            successDiv.style.display = 'block';
        } else {
            const error = await response.json();
            errorDiv.textContent = error.error || 'An error occurred';
            errorDiv.style.display = 'block';
        }
    } catch (error) {
        errorDiv.textContent = 'Network error: ' + error.message;
        errorDiv.style.display = 'block';
    } finally {
        loadingDiv.style.display = 'none';
    }
});

function clearForm() {
    document.getElementById('unlockForm').reset();
    document.getElementById('result').style.display = 'none';
}

// File input change handler
document.getElementById('fileInput').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (file) {
        document.querySelector('.drag-drop strong').textContent = `Selected: ${file.name}`;
    }
});
</script>
{% endblock %}